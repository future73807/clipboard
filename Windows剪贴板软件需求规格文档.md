# Windows 增强剪贴板软件需求规格文档

> 技术栈：Electron + React/Vue  
> 版本：V1.0  
> 日期：2025年2月

---

## 一、功能需求详细设计

### 1.1 剪贴板内容管理模块

#### 1.1.1 自动记录剪贴板历史

系统需要实时监听 Windows 系统剪贴板的变化事件，当用户执行复制或剪切操作时，自动捕获剪贴板内容并存储到本地数据库。监听机制采用 Windows API 钩子或定时轮询方式实现，确保捕获的及时性和准确性。历史记录需要包含完整的内容数据、时间戳、来源应用程序信息、内容类型标识等元数据。

存储策略方面，系统需要支持配置最大历史记录条数（默认 1000 条，可自定义），超出限制时自动清理最旧的记录。同时支持按时间自动清理策略，如保留最近 30 天的记录。对于大文件类型内容，系统采用引用存储方式，仅保存文件路径和元数据，避免数据库膨胀。所有历史记录支持持久化存储，应用重启后数据不丢失。

#### 1.1.2 多类型内容识别与分类

系统需要智能识别并分类以下内容类型：

- **纯文本内容**：包括普通文本、富文本（RTF/HTML）、代码片段等，系统自动检测编程语言并提供语法高亮预览
- **图片内容**：支持 BMP、PNG、JPG、GIF 等常见格式，自动生成缩略图用于列表展示，提取图片尺寸、大小等元数据
- **文件与文件夹**：识别复制的文件路径或文件对象，支持单文件和多文件批量复制，显示文件名、类型、大小等信息
- **视频文件引用**：对于 MP4、AVI、MOV 等视频文件，提取文件信息并生成预览帧
- **URL 链接**：自动检测文本中的网址，提取网页标题和图标
- **密码类内容**：通过规则引擎判断剪贴板内容是否可能是密码，如来自密码管理器应用、符合密码复杂度特征等，自动标记并提示用户是否加入密码本

| 内容类型 | 识别方式 | 存储策略 | 预览方式 |
|---------|---------|---------|---------|
| 纯文本 | CF_TEXT/CF_UNICODETEXT | 完整存储 | 文本预览、语法高亮 |
| 富文本 | CF_HTML/CF_RTF | 原始格式+纯文本 | 渲染预览 |
| 图片 | CF_DIB/CF_BITMAP | 压缩存储+缩略图 | 缩略图+原图查看 |
| 文件 | CF_HDROP | 路径引用+元数据 | 文件图标+信息 |
| URL | 文本正则匹配 | 完整URL+元数据 | 链接卡片+图标 |
| 密码 | 规则引擎识别 | AES-256加密存储 | 打码显示 |

#### 1.1.3 搜索与整理功能

系统提供强大的搜索功能，支持全文检索、类型筛选、时间范围筛选等多维度查询。全文检索采用倒排索引技术，支持模糊匹配和正则表达式搜索，响应时间控制在 100ms 以内。类型筛选允许用户按文本、图片、文件、密码等分类快速过滤内容。时间筛选支持按今天、本周、本月、自定义范围等条件过滤。

整理功能方面，系统支持手动置顶重要内容，置顶项始终显示在列表顶部；支持创建自定义文件夹和标签，用户可将相关内容归类整理；支持使用频率统计，自动识别高频使用的内容并优先展示；支持批量操作，包括批量删除、批量移动、批量导出等功能，提升内容管理效率。

---

### 1.2 悬浮粘贴模块

#### 1.2.1 悬浮窗设计

悬浮窗采用现代化的 UI 设计，默认显示为一个半透明的小型悬浮球（直径约 40px），始终置顶显示在屏幕边缘。悬浮球支持自由拖拽定位，可自动吸附到屏幕边缘，鼠标离开后自动收起为小图标。点击悬浮球展开迷你面板，显示最近 5-10 条剪贴板记录，面板宽度约 300px，高度自适应内容。

悬浮窗的外观支持自定义配置，包括透明度、颜色主题、显示位置等。系统提供多种预设主题（浅色、深色、跟随系统），也支持用户自定义配色方案。悬浮窗的显示行为可配置，如是否在全屏应用时自动隐藏、是否在特定应用中禁用等。悬浮窗动画效果流畅，展开/收起动画时长控制在 200ms 以内。

#### 1.2.2 智能上下文感知

系统具备智能上下文感知能力，能够识别当前前台应用程序，并根据应用类型智能调整悬浮面板显示的内容优先级：

- 在**资源管理器**中，优先展示文件和文件夹类型的剪贴板记录
- 在**浏览器或登录界面**，优先展示账号密码类内容
- 在**代码编辑器**中，优先展示代码片段和技术文本
- 在**即时通讯软件**中，优先展示文本和图片内容

上下文感知规则支持用户自定义配置，用户可以指定特定应用程序对应的内容优先级策略。系统内置常用应用程序的默认规则库，包括 Visual Studio Code、Sublime Text、Chrome、Edge、Word、Excel、微信、QQ 等主流应用。规则引擎采用模糊匹配和应用签名识别相结合的方式，确保规则匹配的准确性。

#### 1.2.3 快捷粘贴机制

用户在悬浮面板中点击某条记录后，系统自动将该内容写入系统剪贴板，并模拟 Ctrl+V 键盘操作完成粘贴。对于文本内容，支持直接模拟键盘输入方式粘贴，适用于不支持剪贴板操作的特殊场景。对于文件类型，支持模拟拖拽操作或复制文件路径。快捷粘贴全过程在 50ms 内完成，确保用户体验流畅。

系统支持全局快捷键配置，用户可自定义呼出悬浮面板的快捷键（默认 Ctrl+Shift+V），以及快速粘贴最近 N 条记录的快捷键（如 Ctrl+Shift+1 粘贴最近第 1 条）。快捷键支持组合键和功能键，避免与常用软件快捷键冲突。系统提供快捷键冲突检测功能，在设置界面提示可能存在的冲突。

---

### 1.3 密码本与安全存储模块

#### 1.3.1 密码识别与自动捕获

系统内置智能密码识别引擎，通过多维度特征判断剪贴板内容是否为密码。识别规则包括：

- **来源应用判断**：检测内容是否来自已知密码管理器（如 1Password、LastPass、Bitwarden 等）或浏览器密码自动填充功能
- **内容特征分析**：检测内容长度、字符组成（大小写字母、数字、特殊符号组合）、是否匹配常见密码模式

当系统检测到可能的密码内容时，弹出提示询问用户是否将其添加到密码本。用户可选择「是，添加到密码本」「否，仅作为普通文本」「不再提示此类内容」等选项。密码识别规则支持用户自定义，可添加特定应用程序到密码来源白名单，或设置特定规则过滤误报。系统记录用户的选择偏好，逐步优化识别准确率。

#### 1.3.2 加密存储方案

密码本采用军事级 AES-256-GCM 加密算法存储，确保敏感数据的机密性和完整性。加密密钥通过用户主密码派生，采用 PBKDF2 算法（迭代次数 100,000 次）增强抗暴力破解能力。主密码本身不以任何形式存储在系统中，用户需要首次使用时设置主密码，之后每次访问密码本时需要验证。

作为可选增强方案，系统支持集成 Windows Hello 生物识别认证，用户可使用指纹或面部识别替代主密码验证。密钥在内存中采用安全存储策略，使用完成后立即清除，防止内存转储攻击。数据库文件本身也进行加密保护，即使文件被复制也无法在没有主密码的情况下解密。系统支持设置自动锁定时间，如 5 分钟无操作后自动锁定密码本。

#### 1.3.3 密码本管理界面

密码本提供独立的管理界面，采用与主界面一致的设计风格。列表视图显示所有已保存的密码条目，每个条目显示标题、关联账号、创建时间、最后使用时间等信息，密码内容默认打码显示（如 ********）。支持按标题、账号、标签搜索，支持按使用频率、创建时间、字母顺序排序。

每个密码条目支持添加丰富的元数据，包括：标题（如「工作邮箱」）、用户名/账号、密码、关联网址、备注、标签、自定义字段等。支持密码强度检测，在添加或编辑密码时显示强度评分和改进建议。支持密码生成器功能，可自定义生成规则（长度、字符类型、排除字符等），一键生成强密码并自动填充。

#### 1.3.4 安全粘贴机制

密码粘贴采用特殊的安全机制，最大程度保护敏感信息。粘贴时密码不在界面中以明文显示，直接通过安全通道写入目标应用。支持两种粘贴模式：

- **剪贴板模式**：将密码写入系统剪贴板后模拟 Ctrl+V 操作，剪贴板中的密码在 30 秒后自动清除
- **模拟输入模式**：通过模拟键盘逐字符输入密码，适用于高安全场景

系统提供剪贴板清除功能，用户可设置密码复制后在剪贴板中的保留时间（默认 30 秒，可设置为 10-120 秒或手动清除）。在密码本界面中，密码默认以打码形式显示，用户可点击「显示」按钮临时查看明文，明文显示 5 秒后自动恢复打码。所有密码相关操作均记录审计日志，包括查看、复制、编辑、删除等操作的时间和类型。

---

### 1.4 高级功能模块

#### 1.4.1 OCR 文字识别

系统集成 OCR（光学字符识别）功能，支持从图片中提取文字内容。当用户复制图片时，系统自动检测图片中是否包含文字，如检测到文字则提供「识别文字」选项。OCR 功能基于 Tesseract OCR 引擎或云端 OCR API 实现，支持中英文混合识别，识别准确率需达到 95% 以上。

OCR 功能支持截图识别场景，用户可通过快捷键（默认 Ctrl+Shift+O）触发区域截图，截图后自动进行 OCR 识别并将结果存入剪贴板历史。识别结果与原图关联存储，用户可查看原图和识别文本的对照。OCR 结果支持编辑修正，用户可手动修改识别错误的文字，修正后的文本与原图一并保存。

#### 1.4.2 代码片段管理

针对开发者用户，系统提供专门的代码片段管理功能。自动检测复制内容是否为代码，支持识别 50+ 种编程语言，包括 JavaScript、Python、Java、C++、Go、Rust、SQL 等。代码片段在列表中以语法高亮形式预览，支持展开查看完整代码。代码片段支持添加语言标签、项目标签、描述等元数据。

代码片段库提供独立管理界面，支持按语言、项目、标签分类浏览。支持代码片段的导入导出，格式包括 JSON、Markdown 等。支持代码片段的快速插入，用户可通过快捷键或悬浮面板快速选择并粘贴常用代码片段。代码片段支持变量占位符，粘贴时可交互式填充变量值。

#### 1.4.3 快捷短语与文本扩展

系统支持创建快捷短语，用户可定义简短的缩写词，输入缩写后自动扩展为预设的长文本。例如，输入「addr」自动扩展为完整地址，输入「sig」自动扩展为签名档。快捷短语支持富文本格式，可包含格式化文本、图片、链接等。支持设置短语的使用范围，如全局可用或仅在特定应用中生效。

文本扩展功能支持动态变量，如当前日期时间、剪贴板内容、用户输入等。例如，可创建模板「今天是 {date}，{clipboard}」，粘贴时自动替换变量为实际值。支持创建短语分组，按用途分类管理（如邮件模板、常用回复、代码模板等）。短语库支持导入导出，方便备份和迁移。

#### 1.4.4 多设备同步（可选扩展）

系统支持可选的多设备同步功能，实现剪贴板内容在多台设备间的无缝同步。同步采用端到端加密方案，数据在传输和存储过程中始终加密，服务器无法解密用户数据。同步架构支持自建服务器或使用官方云服务，用户可根据安全需求选择。同步内容包括剪贴板历史记录、密码本、快捷短语、用户设置等。

同步策略支持实时同步和手动同步两种模式。实时同步在内容变化时立即推送至其他设备，延迟控制在 3 秒以内；手动同步由用户主动触发，适用于网络受限场景。支持选择性同步，用户可指定哪些内容类型需要同步，哪些仅在本地存储。冲突解决采用时间戳优先策略，保留最新的修改版本。

---

## 二、技术架构设计

### 2.1 整体架构

系统采用 Electron 框架构建桌面应用，前端使用 React 或 Vue 框架开发用户界面，后端使用 Node.js 处理系统级操作和数据存储。整体架构遵循分层设计原则，分为表现层、业务逻辑层、数据访问层和系统接口层四个层次，各层职责清晰，便于维护和扩展。

表现层负责用户界面渲染和交互处理，采用组件化开发模式，使用 React Hooks 或 Vue Composition API 管理组件状态。业务逻辑层处理剪贴板监听、内容识别、加密解密、同步等核心业务。数据访问层封装数据库操作，提供统一的数据访问接口。系统接口层通过 Node.js 原生模块调用 Windows API，实现剪贴板监听、键盘模拟、窗口管理等系统级功能。

| 架构层次 | 技术组件 | 主要职责 |
|---------|---------|---------|
| 表现层 | React/Vue + TypeScript + CSS/SCSS | UI渲染、用户交互、状态管理、动画效果 |
| 业务逻辑层 | TypeScript + Node.js | 剪贴板监听、内容识别、加密解密、同步逻辑 |
| 数据访问层 | better-sqlite3 + TypeORM | 数据持久化、查询优化、事务管理 |
| 系统接口层 | Node.js N-API + C++ Addons | Windows API调用、剪贴板Hook、键盘模拟 |

### 2.2 技术选型

#### 2.2.1 核心框架

桌面应用框架选择 Electron，版本选用最新的稳定版（v28+）。Electron 基于 Chromium 和 Node.js，支持使用 Web 技术开发跨平台桌面应用，拥有成熟的生态系统和丰富的社区资源。相比原生开发，Electron 开发效率高、迭代速度快，适合个人或小团队快速落地产品。虽然内存占用相对较高，但通过优化可以将内存控制在 150MB 以内，满足性能要求。

前端框架提供 React 和 Vue 两种选择。React 生态更为成熟，组件库丰富（如 Ant Design、Material-UI），适合构建复杂交互界面；Vue 上手更快，模板语法直观，配套的 Element Plus 组件库功能完善。状态管理方面，React 项目推荐使用 Zustand 或 Jotai（轻量级）或 Redux Toolkit（大型项目）；Vue 项目推荐使用 Pinia。无论选择哪种框架，都强烈建议使用 TypeScript 进行类型安全开发。

#### 2.2.2 数据存储

本地数据存储采用 SQLite 嵌入式数据库，通过 better-sqlite3 库进行 Node.js 绑定。SQLite 轻量、快速、无需独立服务进程，非常适合桌面应用场景。better-sqlite3 相比 node-sqlite3 性能更优，支持同步 API，简化异步处理复杂度。数据访问层可选用 TypeORM 或 Prisma 作为 ORM 框架，提供类型安全的数据库操作接口。

敏感数据加密采用 Node.js 内置的 crypto 模块，支持 AES-256-GCM 等现代加密算法。密钥派生使用 crypto.pbkdf2 或 scrypt 算法。密码本数据在存入数据库前进行加密，读取时解密，加密层对业务层透明。图片等二进制数据采用压缩存储策略，使用 sharp 库进行图片处理和缩略图生成。

#### 2.2.3 系统集成

剪贴板监听通过 electron 内置的 clipboard API 结合轮询机制实现，或使用 node-clipboard-event 等第三方库。对于更底层的控制，可通过 C++ Addons 调用 Windows API（如 SetClipboardViewer、AddClipboardFormatListener）实现真正的钩子监听。键盘模拟使用 robotjs 或 nut.js 库，支持按键发送、组合键模拟等功能。

窗口管理使用 electron 的 BrowserWindow API，悬浮窗通过设置 alwaysOnTop、frame: false、transparent: true 等属性实现。系统托盘集成使用 Tray API，支持托盘图标、右键菜单、气泡通知等功能。开机自启通过 electron 的 app.setLoginItemSettings API 实现，或直接操作 Windows 注册表。

| 功能模块 | 技术选型 | 备选方案 | 选型理由 |
|---------|---------|---------|---------|
| 桌面框架 | Electron v28+ | Tauri | 生态成熟、开发效率高 |
| 前端框架 | React 18+ / Vue 3+ | Svelte | 组件化、类型安全 |
| 状态管理 | Zustand / Pinia | Redux Toolkit | 轻量、易用、TypeScript友好 |
| 数据库 | SQLite + better-sqlite3 | LevelDB | 轻量、快速、关系型查询 |
| 加密 | Node.js crypto (AES-256-GCM) | libsodium.js | 原生支持、性能好 |
| 剪贴板 | electron clipboard + C++ Addon | node-clipboard-event | 底层控制、完整功能 |
| OCR | Tesseract.js / 云端API | Windows OCR API | 跨平台、准确率高 |

### 2.3 关键技术实现

#### 2.3.1 剪贴板监听实现

剪贴板监听是本产品的核心技术点之一。Electron 提供的 clipboard API 只能主动读取剪贴板内容，无法被动监听变化事件。因此需要采用轮询或 Windows Hook 两种方案。轮询方案简单可靠，通过 setInterval 定时检查剪贴板内容哈希值是否变化，检测到变化时触发内容捕获。轮询间隔建议设置为 200-500ms，在响应速度和性能消耗间取得平衡。

Windows Hook 方案性能更优，通过 C++ Addon 调用 AddClipboardFormatListener API 注册剪贴板变化监听器，系统在剪贴板内容变化时主动通知应用程序。该方案零延迟、零 CPU 占用，但实现复杂度较高，需要编写原生模块。推荐初期采用轮询方案快速验证，后续优化时引入 Hook 方案提升性能。

#### 2.3.2 悬浮窗实现

悬浮窗需要实现始终置顶、透明背景、无边框、可拖拽等特性。Electron 的 BrowserWindow 支持通过配置项实现这些效果：设置 alwaysOnTop: true 实现始终置顶；设置 transparent: true 和 frame: false 实现透明无边框；设置 resizable: false 禁用调整大小。拖拽功能通过监听 mousedown/mousemove/mouseup 事件，调用 win.setPosition 实现窗口位置更新。

悬浮窗的自动停靠功能需要检测窗口位置与屏幕边缘的距离，当距离小于阈值时自动吸附。展开/收起动画通过 CSS transition 或 Web Animations API 实现，配合窗口尺寸动态调整。需要注意的是，Windows 系统对透明窗口有特殊限制，某些情况下可能出现渲染问题，需要充分测试并准备降级方案。

#### 2.3.3 安全存储实现

密码本的加密存储采用 AES-256-GCM 算法，该算法同时提供加密和完整性校验，防止密文被篡改。加密流程如下：首先用户设置主密码，系统使用 PBKDF2 算法（盐值随机生成，迭代 100,000 次）从主密码派生 256 位加密密钥；存储密码时，生成随机 IV，使用密钥和 IV 加密密码内容，将 IV 和密文拼接后存入数据库。

解密流程为：用户输入主密码验证后，系统重新派生密钥并缓存在内存中（设置定时器自动清除）；读取密码时，从数据库取出 IV 和密文，使用密钥解密得到明文。密钥派生使用 crypto.pbkdf2Sync 或 crypto.scryptSync，加密解密使用 crypto.createCipheriv 和 crypto.createDecipheriv。所有加密操作在主进程（Node.js 环境）中执行，渲染进程通过 IPC 通信请求加密解密服务。

---

## 三、数据库设计

系统使用 SQLite 作为本地数据库，以下是核心数据表结构设计。数据库设计遵循规范化原则，同时考虑查询性能优化，对常用查询字段建立索引。

### 3.1 剪贴板历史表 (clipboard_history)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| content_type | VARCHAR(20) | NOT NULL | 内容类型: text/image/file/url/password |
| content | TEXT/BLOB | NOT NULL | 内容数据(文本/二进制) |
| preview | TEXT | | 预览文本/缩略图路径 |
| metadata | JSON | | 元数据(尺寸/来源应用/语言等) |
| source_app | VARCHAR(100) | | 来源应用程序名称 |
| is_favorited | BOOLEAN | DEFAULT FALSE | 是否收藏/置顶 |
| use_count | INTEGER | DEFAULT 0 | 使用次数统计 |
| folder_id | INTEGER | FOREIGN KEY | 所属文件夹ID |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | | 更新时间 |

**索引设计：**
- `idx_content_type` ON (content_type) — 按类型筛选
- `idx_created_at` ON (created_at DESC) — 按时间排序
- `idx_source_app` ON (source_app) — 按来源应用筛选
- `idx_use_count` ON (use_count DESC) — 按使用频率排序

### 3.2 密码本表 (passwords)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| title | VARCHAR(100) | NOT NULL | 条目标题 |
| username | VARCHAR(200) | | 用户名/账号 |
| password_encrypted | TEXT | NOT NULL | 加密后的密码 |
| url | VARCHAR(500) | | 关联网址 |
| notes | TEXT | | 备注(加密存储) |
| tags | JSON | | 标签数组 |
| custom_fields | JSON | | 自定义字段(加密) |
| use_count | INTEGER | DEFAULT 0 | 使用次数 |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | | 更新时间 |

**索引设计：**
- `idx_title` ON (title) — 按标题搜索
- `idx_username` ON (username) — 按账号搜索
- `idx_use_count` ON (use_count DESC) — 按使用频率排序

### 3.3 文件夹表 (folders)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| name | VARCHAR(100) | NOT NULL | 文件夹名称 |
| parent_id | INTEGER | FOREIGN KEY | 父文件夹ID（支持嵌套） |
| icon | VARCHAR(50) | | 图标标识 |
| color | VARCHAR(20) | | 颜色标识 |
| sort_order | INTEGER | DEFAULT 0 | 排序顺序 |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | 创建时间 |

### 3.4 标签表 (tags)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| name | VARCHAR(50) | NOT NULL UNIQUE | 标签名称 |
| color | VARCHAR(20) | | 标签颜色 |
| icon | VARCHAR(50) | | 标签图标 |
| use_count | INTEGER | DEFAULT 0 | 使用次数 |

### 3.5 快捷短语表 (snippets)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| abbreviation | VARCHAR(20) | NOT NULL UNIQUE | 缩写触发词 |
| content | TEXT | NOT NULL | 扩展内容 |
| content_type | VARCHAR(20) | DEFAULT 'text' | 内容类型: text/rich/html |
| name | VARCHAR(100) | | 短语名称 |
| group_id | INTEGER | FOREIGN KEY | 所属分组ID |
| scope_apps | JSON | | 生效应用范围（空为全局） |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | 创建时间 |
| updated_at | DATETIME | | 更新时间 |

### 3.6 设置表 (settings)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| key | VARCHAR(100) | PRIMARY KEY | 配置键 |
| value | TEXT | | 配置值（JSON格式） |
| updated_at | DATETIME | | 更新时间 |

**预设配置项：**
- `max_history_count` — 最大历史记录条数（默认 1000）
- `auto_clear_days` — 自动清理天数（默认 30）
- `polling_interval` — 剪贴板轮询间隔（默认 300ms）
- `theme` — 界面主题（light/dark/system）
- `language` — 界面语言
- `hotkey_toggle` — 呼出悬浮窗快捷键
- `auto_start` — 开机自启开关
- `password_auto_lock_minutes` — 密码本自动锁定时间

### 3.7 审计日志表 (audit_logs)

| 字段名 | 类型 | 约束 | 说明 |
|-------|------|------|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | 主键ID |
| action | VARCHAR(50) | NOT NULL | 操作类型: view/copy/edit/delete |
| resource_type | VARCHAR(50) | NOT NULL | 资源类型: password/snippet |
| resource_id | INTEGER | | 资源ID |
| details | JSON | | 操作详情 |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | 操作时间 |

---

## 四、开发路线图

项目采用敏捷开发模式，按迭代周期推进。以下是建议的开发路线图，分为五个阶段，每个阶段聚焦核心功能交付，逐步完善产品。

| 阶段 | 时间 | 核心目标 | 交付物 |
|------|------|---------|--------|
| **第一阶段：MVP原型** | 2-3周 | 验证核心技术可行性，搭建基础框架 | 剪贴板监听、基础UI、SQLite存储、文本类型支持 |
| **第二阶段：核心功能** | 3-4周 | 完善核心功能，提升用户体验 | 多类型支持、分类视图、搜索功能、悬浮窗基础版 |
| **第三阶段：安全增强** | 2-3周 | 实现密码本和安全存储 | 密码识别、AES加密、密码本管理、安全粘贴 |
| **第四阶段：高级功能** | 2-3周 | 扩展高级功能，提升产品竞争力 | OCR识别、代码片段、快捷短语、上下文感知 |
| **第五阶段：优化发布** | 2周 | 性能优化、测试、打包发布 | 性能优化、安装包、文档、测试报告 |

**第一阶段 MVP 原型**的关键任务是验证技术可行性，重点攻克剪贴板监听和 Electron 框架集成。建议采用 React + TypeScript 技术栈，使用 Vite 作为构建工具提升开发体验。数据库选用 better-sqlite3，配合 TypeORM 简化数据访问层开发。此阶段产出可运行的原型应用，支持基本的文本复制历史记录功能。

后续阶段逐步迭代，每个阶段结束时进行功能验收和代码评审。建议采用 Git Flow 分支管理策略，使用 GitHub Actions 或 GitLab CI 实现持续集成。测试方面，单元测试覆盖率目标 60% 以上，关键模块（加密、剪贴板操作）覆盖率 80% 以上。发布前进行完整的用户验收测试和性能测试。
